{"mappings":"iiBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAAeE,ECAZ,W,sBDAkBC,EACPC,G,IAAAC,EAAAD,EAAEC,S,aACZC,KAAKC,KAAOD,KAAKE,QAAQH,E,iBAG3BI,IAAA,U,MAAA,SAAQJ,GACN,IAAME,EAAO,GAGb,OAFAA,EAAKG,SAAWC,SAASC,cAAcP,GACvCE,EAAKM,QAAUN,EAAKG,SAASE,cAAc,iBACpCL,C,IAGTE,IAAA,S,MAAA,WACEH,KAAKC,KAAKG,SAASI,UAAUC,IAAI,Y,IAGnCN,IAAA,U,MAAA,WACEH,KAAKC,KAAKG,SAASI,UAAUE,OAAO,Y,OCjBrC,G,0BCAHC,EAAAjB,EAAA,S,0GASMkB,EAAe,IAAI,EAAAC,EAAAC,cACnBC,EAAU,IAAInB,EAAQ,CAC1BG,SAAU,iC,SAaUiB,I,OAAAA,EAAfC,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAI7BC,EADUC,EAERC,EAUFC,EADMC,EAASC,EAAeC,EAAMC,EAiChCC,E,qEA9CRT,EAAIU,iBAGAT,EAAAD,EAAIW,OADNT,EACED,EADFW,SAAYV,YAERC,EAAmBD,EAAYW,MAAMC,OAAOC,cAC7B,C,sBACnBC,EAAAC,OAAOC,QAAQ,gC,iCAIjBxB,EAAQyB,UACR5B,EAAa6B,MAAQjB,E,mBAGXZ,EAAa8B,kC,WAAnBjB,EAAoDkB,EAAAC,KAD9ClB,EACND,EADMC,QAASC,EACfF,EADeE,cAAeC,EAC9BH,EAD8BoB,KAAMhB,EACpCJ,EADoCI,YAGjCH,EAAQoB,OAAM,C,uBACjBlC,EAAa6B,MAAQM,EAAAC,QAAmBC,KAAKC,EAAAC,c,kBACtCd,EAAAC,OAAOC,QACZ,gE,WAIJQ,EAAAC,QAAmBI,KAAKF,EAAAC,aAAc3B,GACtC6B,EAAAC,WAAWC,eACP1B,EAAc,IAChBwB,EAAAC,WAAWE,WAAa3B,EACxBwB,EAAAC,WAAWT,KAAOjB,EAClByB,EAAAC,WAAWG,MAAQ,SAAAZ,G,OACjBjC,EAAa8B,gCAAgCG,E,EAE/CQ,EAAAC,WAAWI,gBAERhC,EAAQoB,OAAM,C,uBACjBT,EAAAC,OAAOC,QACL,+DAEFxB,EAAQ4C,S,2BAIVtB,EAAAC,OAAOsB,QAAQ,oBAAkCC,OAAdlC,EAAc,YAEjDoB,EAAAC,QAAmBtC,OAAOwC,EAAAY,OAC1Bf,EAAAC,QAAmBI,KAAKF,EAAAY,MAAOpC,GAEzBI,EAASJ,EAAQqC,IAAIC,EAAAC,kBAAkBC,KAAK,IAClDC,EAAAlE,KAAKmE,YAAYC,UAAYvC,E,kDAE7BwC,QAAQC,IAAG5B,EAAA6B,I,yBAEXzD,EAAQ4C,S,8EApDsBc,MAAAzE,KAAA0E,U,CAVlCP,EAAAlE,KAAK0E,WAAWC,iBAAiB,U,SAUEvD,G,OAAbL,EAAYyD,MAAAzE,KAAA0E,U,IARlCrC,EAAAC,OAAOuC,KAAK,CACVC,QAAS,KACTC,SAAU,aACVC,aAAa,EACbC,QAAS,GACTC,aAAc,SCrBhBvE,EAAAjB,EAAA,S,oDAAA,IAKMyF,EAAoB,IAAI,G,cAAArE,cAGxBsE,EACJC,OAAOC,mBAAqBD,OAAOE,wBACrC,GAAIH,EAAmB,CACrBd,QAAQC,IAAI,4CAEZ,IAAMiB,EAAc,IAAIJ,EAExBI,EAAYC,YAAa,EACzBD,EAAYE,KAAO,QAEnB,IAAMC,EAAStF,SAASC,cAAc,oBAChCsF,EAAUD,EAAOE,kBAEvBF,EAAOf,iBAAiB,SACxB,WACEN,QAAQC,IAAI,OACRqB,EAAQpF,UAAUsF,SAAS,YAE7BN,EAAYO,QAEZP,EAAYQ,M,IAIhBR,EAAYZ,iBAAiB,SAC7B,WACEgB,EAAQpF,UAAUE,OAAO,YACzBkF,EAAQpF,UAAUC,IAAI,WACtB0D,EAAAlE,KAAKgG,KAAKzF,UAAUC,IAAI,4BACxB0D,EAAAlE,KAAKiG,gBAAgBC,QACrB7B,QAAQC,IAAI,yB,IAGdiB,EAAYZ,iBAAiB,OAC7B,WACEgB,EAAQpF,UAAUE,OAAO,WACzBkF,EAAQpF,UAAUC,IAAI,YACtB0D,EAAAlE,KAAKgG,KAAKzF,UAAUE,OAAO,4BAC3ByD,EAAAlE,KAAKiG,gBAAgBC,QACrB7B,QAAQC,IAAI,0C,IAGdiB,EAAYZ,iBAAiB,UAC7B,SAAmCwB,GACjC,IAAMF,EAAsB/B,EAAAlE,KAApBiG,gBAEFG,EAAUD,EAAEE,YACZC,EAAaH,EAAE1E,QAAQ2E,GAAS,GAAGE,WAED,SAApCA,EAAWnE,cAAcD,OAC3BqD,EAAYQ,OACFE,EAAgBhE,MAGc,WAApCqE,EAAWnE,cAAcD,QAC3BmC,QAAQC,IAAI,U,WAeLiC,EAAQ/B,MAAAzE,KAAA0E,U,CAdf+B,IAC6C,UAApCF,EAAWnE,cAAcD,OAClC+D,EAAgBhE,MAAQ,GAExBgE,EAAgBhE,MAAQqE,EAR1BL,EAAgBhE,MAAQqE,C,IAY5BpC,EAAAlE,KAAKgG,KAAKS,YAAc,2C,MAExBpC,QAAQC,IAAI,oDACZJ,EAAAlE,KAAKgG,KAAKS,YAAc,mD,SAGXF,I,OAAAA,EAAfvF,EAAAN,EAAA,CAAAM,EAAAC,GAAAC,MAAA,SAAAC,I,IACQI,EAMFC,EADMC,EAASC,EAAeC,EAAMC,EAgChCC,E,yEArCFN,EAAmB2C,EAAAlE,KAAKiG,gBAAgBhE,MAAMC,OAAOC,cAE3D+C,EAAkB1C,MAAQjB,E,kBAIhB2D,EAAkBzC,kC,UAAxBjB,EAAyDkB,EAAAC,KADnDlB,EACND,EADMC,QAASC,EACfF,EADeE,cAAeC,EAC9BH,EAD8BoB,KAAMhB,EACpCJ,EADoCI,YAGjCH,EAAQoB,OAAM,C,uBACjBqC,EAAkB1C,MAAQM,EAAAC,QAAmBC,KAAKC,EAAAC,c,kBAC3Cb,OAAOC,QACZ,gE,WAIJQ,EAAAC,QAAmBI,KAAKF,EAAAC,aAAc3B,GACtC8B,WAAWC,eACP1B,EAAc,IAChByB,WAAWE,WAAa3B,EACxByB,WAAWT,KAAOjB,EAClB0B,WAAWG,MAAQ,SAAAZ,G,OACjBsC,EAAkBzC,gCAAgCG,E,EAEpDS,WAAWI,gBAERhC,EAAQoB,OAAM,C,uBACjBR,OAAOC,QACL,+D,2BAKJD,OAAOsB,QAAQ,oBAAkCC,OAAdlC,EAAc,YAEjDoB,EAAAC,QAAmBtC,OAAOwC,EAAAY,OAC1Bf,EAAAC,QAAmBI,KAAKF,EAAAY,MAAOpC,GAEzBI,EAASJ,EAAQqC,IAAIE,kBAAkBC,KAAK,IAClDC,EAAAlE,KAAKmE,YAAYC,UAAYvC,E,kDAE7BwC,QAAQC,IAAG5B,EAAA6B,I,2DAzCQC,MAAAzE,KAAA0E,U,CCpEvB,SAASiC,IACP,IACwC,SAAlCC,aAAaC,QAAQ,UACvBxG,SAASC,cAAc,QAAQE,UAAUC,IAAI,QAC7CJ,SAASC,cAAc,SAASE,UAAUC,IAAI,QAC9CJ,SAASC,cAAc,gBAAgBE,UAAUC,IAAI,QACrDJ,SAASC,cAAc,mBAAmBE,UAAUC,IAAI,QACxDJ,SAASC,cAAc,UAAUE,UAAUC,IAAI,QAC/CJ,SAASC,cAAc,eAAeE,UAAUC,IAAI,QACpDJ,SAASC,cAAc,sBAAsBE,UAAUC,IAAI,QAC3DJ,SAASC,cAAc,qBAAqBE,UAAUC,IAAI,QAC1DJ,SAASC,cAAc,oBAAoBE,UAAUC,IAAI,QACzDJ,SAASC,cAAc,gBAAgBE,UAAUC,IAAI,QACrDJ,SAASC,cAAc,cAAcE,UAAUC,IAAI,QACnDJ,SAASC,cAAc,qBAAqBE,UAAUC,IAAI,UAE1DJ,SAASC,cAAc,QAAQE,UAAUE,OAAO,QAChDL,SAASC,cAAc,SAASE,UAAUE,OAAO,QACjDL,SAASC,cAAc,gBAAgBE,UAAUE,OAAO,QACxDL,SAASC,cAAc,mBAAmBE,UAAUE,OAAO,QAC3DL,SAASC,cAAc,UAAUE,UAAUE,OAAO,QAClDL,SAASC,cAAc,eAAeE,UAAUE,OAAO,QACvDL,SAASC,cAAc,sBAAsBE,UAAUE,OAAO,QAC9DL,SAASC,cAAc,qBAAqBE,UAAUE,OAAO,QAC7DL,SAASC,cAAc,oBAAoBE,UAAUE,OAAO,QAC5DL,SAASC,cAAc,gBAAgBE,UAAUE,OAAO,QACxDL,SAASC,cAAc,cAAcE,UAAUE,OAAO,QACtDL,SAASC,cAAc,qBAAqBE,UAAUE,OAAO,QAEnD,CAAZ,MAAOoG,GAAK,C,wDAvChBzG,SAASC,cAAc,gBAAgBsE,iBAAiB,SAAS,SAAAmC,GAC/DA,EAAMhF,iBACgC,SAAlC6E,aAAaC,QAAQ,SACvBD,aAAaI,WAAW,SAExBJ,aAAaK,QAAQ,QAAS,QAEhCN,G,IAmCFA,KL9BA,EAAAO,EAAAC,cACGC,MAAK,W,OAAM,EAAA/D,EAAAgE,uB,IACXC,OAAM,SAAAC,G,OAASjD,QAAQC,IAAIgD,E,IAOd,IAAI3H,EAAQ,CAC1BG,SAAU,iCAEJ4D,Q","sources":["src/js/index.js","src/js/spinner.js","<<jsx-config-pragma.js>>","src/js/search_by_keywords.js","src/js/voiceSearch.js","src/js/day-night.js"],"sourcesContent":["import './userAuth/firebase-auth-import';\nimport Spinner from './spinner';\nimport { saveGenres } from './genres_storage';\nimport { renderMarkupTrending } from './render_trending.js';\nimport './search_by_keywords';\nimport './voiceSearch'\nimport './add_to_list';\nimport './modal-film';\n\nimport { onPlayVideo } from './play_trailer_btn';\nimport { openModalTrailer, closeModalTrailer } from './play_trailer_btn';\nimport { toggleModal, toggleCard } from './modal-team.js';\nsaveGenres()\n  .then(() => renderMarkupTrending())\n  .catch(error => console.log(error));\n// renderMarkupTrending();\nimport './day-night';\n\n// Экземпляр класса Spinner имеет 2 метода:\n// 1. spinner.enable() - выключает спинер\n// 2. spinner.disable() - включает спинер\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\nspinner.enable(); // сейчас спинер выключен\n","export default class Spinner {\n  constructor({ selector }) {\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.backdrop = document.querySelector(selector);\n    refs.spinner = refs.backdrop.querySelector('.spinner-grow');\n    return refs;\n  }\n\n  enable() {\n    this.refs.backdrop.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.backdrop.classList.remove('is-hidden');\n  }\n}\n",null,"import { QueryHandler } from './query_handler';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { createCardMarkup } from './card_markup';\nimport Spinner from './spinner';\nimport { pagination } from './render_trending';\nimport localStorageMethod from './locale-storage-methods';\nimport { FILMS, LAST_REQUEST } from './localStorageKeys';\nimport { refs } from './refs';\n\nconst queryHandler = new QueryHandler();\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\n\nrefs.searchForm.addEventListener('submit', handleSubmit);\n\nNotify.init({\n  timeout: 1500,\n  position: 'center-top',\n  backOverlay: false,\n  opacity: 0.8,\n  borderRadius: '25px',\n});\n\nexport async function handleSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { searchQuery },\n  } = evt.target;\n  const valueSearchQuery = searchQuery.value.trim().toLowerCase();\n  if (!valueSearchQuery) {\n    Notify.failure('Enter the name of the movie!');\n    return;\n  }\n\n  spinner.disable();\n  queryHandler.query = valueSearchQuery;\n  try {\n    const { results, total_results, page, total_pages } =\n      await queryHandler.fetchQueryResultsForMovieSearch();\n\n    if (!results.length) {\n      queryHandler.query = localStorageMethod.load(LAST_REQUEST);\n      return Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n    }\n\n    localStorageMethod.save(LAST_REQUEST, valueSearchQuery);\n    pagination.removeMarkup();\n    if (total_pages > 1) {\n      pagination.totalPages = total_pages;\n      pagination.page = page;\n      pagination.fetch = page =>\n        queryHandler.fetchQueryResultsForMovieSearch(page);\n\n      pagination.renderMarkup();\n    }\n    if (!results.length) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n      spinner.enable();\n      return;\n    }\n\n    Notify.success(`Hooray! We found ${total_results} movie!`);\n\n    localStorageMethod.remove(FILMS);\n    localStorageMethod.save(FILMS, results);\n\n    const markup = results.map(createCardMarkup).join('');\n    refs.filmListRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    spinner.enable();\n  }\n}\n","import { refs } from './refs';\nimport localStorageMethod from './locale-storage-methods';\nimport { FILMS, LAST_REQUEST } from './localStorageKeys';\n// import { queryHandler, spinner } from \"./search_by_keywords\";\nimport { QueryHandler } from './query_handler';\nconst queryHandlerVoice = new QueryHandler();\n\n// The speech recognition interface lives on the browser’s window object\nconst SpeechRecognition =\n  window.SpeechRecognition || window.webkitSpeechRecognition; // if none exists -> undefined\nif (SpeechRecognition) {\n  console.log('Your Browser supports speech Recognition');\n\n  const recognition = new SpeechRecognition();\n\n  recognition.continuous = true;\n  recognition.lang = 'en-US';\n\n  const micBtn = document.querySelector('.search-btn__mic');\n  const micIcon = micBtn.firstElementChild;\n\n  micBtn.addEventListener('click', micBtnClick);\n  function micBtnClick() {\n    console.log('yes');\n    if (micIcon.classList.contains('mic-stop')) {\n      // Start Voice Recognition\n      recognition.start(); // First time you have to allow access to mic!\n    } else {\n      recognition.stop();\n    }\n  }\n\n  recognition.addEventListener('start', startSpeechRecognition); // <=> recognition.onstart = function() {...}\n  function startSpeechRecognition() {\n    micIcon.classList.remove('mic-stop');\n    micIcon.classList.add('mic-rec');\n    refs.info.classList.add('search-form__info--hover');\n    refs.searchFormInput.focus();\n    console.log('Voice activated, SPEAK');\n  }\n\n  recognition.addEventListener('end', endSpeechRecognition); // <=> recognition.onend = function() {...}\n  function endSpeechRecognition() {\n    micIcon.classList.remove('mic-rec');\n    micIcon.classList.add('mic-stop');\n    refs.info.classList.remove('search-form__info--hover');\n    refs.searchFormInput.focus();\n    console.log('Speech recognition service disconnected');\n  }\n\n  recognition.addEventListener('result', resultOfSpeechRecognition); // <=> recognition.onresult = function(event) {...} - Fires when you stop talking\n  function resultOfSpeechRecognition(e) {\n    const { searchFormInput } = refs;\n\n    const current = e.resultIndex;\n    const transcript = e.results[current][0].transcript;\n\n    if (transcript.toLowerCase().trim() === 'stop') {\n      recognition.stop();\n    } else if (!searchFormInput.value) {\n      searchFormInput.value = transcript;\n    } else {\n      if (transcript.toLowerCase().trim() === 'search') {\n        console.log('search');\n        onSearch();\n      } else if (transcript.toLowerCase().trim() === 'reset') {\n        searchFormInput.value = '';\n      } else {\n        searchFormInput.value = transcript;\n      }\n    }\n  }\n  refs.info.textContent = 'Voice Commands: \"stop\", \"reset\", \"search\"';\n} else {\n  console.log('Your Browser does not support speech Recognition');\n  refs.info.textContent = 'Your Browser does not support Speech Recognition';\n}\n\nasync function onSearch() {\n  const valueSearchQuery = refs.searchFormInput.value.trim().toLowerCase();\n\n  queryHandlerVoice.query = valueSearchQuery;\n\n  try {\n    const { results, total_results, page, total_pages } =\n      await queryHandlerVoice.fetchQueryResultsForMovieSearch();\n\n    if (!results.length) {\n      queryHandlerVoice.query = localStorageMethod.load(LAST_REQUEST);\n      return Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n    }\n\n    localStorageMethod.save(LAST_REQUEST, valueSearchQuery);\n    pagination.removeMarkup();\n    if (total_pages > 1) {\n      pagination.totalPages = total_pages;\n      pagination.page = page;\n      pagination.fetch = page =>\n        queryHandlerVoice.fetchQueryResultsForMovieSearch(page);\n\n      pagination.renderMarkup();\n    }\n    if (!results.length) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n      return;\n    }\n\n    Notify.success(`Hooray! We found ${total_results} movie!`);\n\n    localStorageMethod.remove(FILMS);\n    localStorageMethod.save(FILMS, results);\n\n    const markup = results.map(createCardMarkup).join('');\n    refs.filmListRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.hero').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n      document.querySelector('.container-footer').classList.add('dark');\n      document.querySelector('.card__container').classList.add('dark');\n      document.querySelector('.modal-film ').classList.add('dark');\n      document.querySelector('.card-list').classList.add('dark');\n      document.querySelector('.pagination__list').classList.add('dark');\n    } else {\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.hero').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n      document.querySelector('.container-footer').classList.remove('dark');\n      document.querySelector('.card__container').classList.remove('dark');\n      document.querySelector('.modal-film ').classList.remove('dark');\n      document.querySelector('.card-list').classList.remove('dark');\n      document.querySelector('.pagination__list').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["parcelRequire","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","Spinner","param","selector","this","refs","getRefs","key","backdrop","document","querySelector","spinner","classList","add","remove","$bpxeT","$14a4640bacd2b36f$var$queryHandler","$8RVSI","QueryHandler","$14a4640bacd2b36f$var$spinner","$14a4640bacd2b36f$var$_handleSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","evt","_target","searchQuery","valueSearchQuery","ref","results","total_results","page1","total_pages","markup","preventDefault","target","elements","value","trim","toLowerCase","$h6c0i","Notify","failure","disable","query","fetchQueryResultsForMovieSearch","_ctx","sent","page","length","$h0Lhl","default","load","$d9uG3","LAST_REQUEST","save","$4Vhfo","pagination","removeMarkup","totalPages","fetch","renderMarkup","enable","success","concat","FILMS","map","$h0FqT","createCardMarkup","join","$4Nugj","filmListRef","innerHTML","console","log","t0","apply","arguments","searchForm","addEventListener","init","timeout","position","backOverlay","opacity","borderRadius","$310aaa974d7c84f9$var$queryHandlerVoice","$310aaa974d7c84f9$var$SpeechRecognition","window","SpeechRecognition","webkitSpeechRecognition","$310aaa974d7c84f9$var$recognition","continuous","lang","$310aaa974d7c84f9$var$micBtn","$310aaa974d7c84f9$var$micIcon","firstElementChild","contains","start","stop","info","searchFormInput","focus","e","current","resultIndex","transcript","$310aaa974d7c84f9$var$_onSearch","$310aaa974d7c84f9$var$onSearch","textContent","$21c8cffa0398de98$var$addDarkClassToHTML","localStorage","getItem","err","event","removeItem","setItem","$FJC5b","saveGenres","then","renderMarkupTrending","catch","error"],"version":3,"file":"index.0da29756.js.map"}