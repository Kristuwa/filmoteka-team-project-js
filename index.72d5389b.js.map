{"mappings":"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","sources":["src/js/index.js","src/js/spinner.js","<<jsx-config-pragma.js>>","src/js/search_by_keywords.js","src/js/day-night.js"],"sourcesContent":["import './userAuth/firebase-auth-import';\nimport Spinner from './spinner';\nimport { saveGenres } from './genres_storage';\nimport { renderMarkupTrending } from './render_trending.js';\nimport { handleSubmit } from './search_by_keywords';\nimport './add_to_list';\nimport './modal-film';\nimport { onPlayVideo } from './play_trailer_btn';\nimport { openModalTrailer, closeModalTrailer } from './play_trailer_btn';\nimport { toggleModal, toggleCard } from './modal-team.js';\nsaveGenres()\n  .then(() => renderMarkupTrending())\n  .catch(error => console.log(error));\n// renderMarkupTrending();\nimport './day-night';\nconst formRef = document.querySelector('#search-form');\nformRef.addEventListener('submit', handleSubmit);\n// Экземпляр класса Spinner имеет 2 метода:\n// 1. spinner.enable() - выключает спинер\n// 2. spinner.disable() - включает спинер\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\nspinner.enable(); // сейчас спинер выключен\n","export default class Spinner {\n  constructor({ selector }) {\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.backdrop = document.querySelector(selector);\n    refs.spinner = refs.backdrop.querySelector('.spinner-grow');\n    return refs;\n  }\n\n  enable() {\n    this.refs.backdrop.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.backdrop.classList.remove('is-hidden');\n  }\n}\n",null,"import { QueryHandler } from './query_handler';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { createCardMarkup } from './card_markup';\nimport localStorageMethod from './locale-storage-methods';\nimport Spinner from './spinner';\nimport { pagination } from './render_trending';\nimport localStorageMethod from './locale-storage-methods';\nimport { FILMS, LAST_REQUEST } from './localStorageKeys';\nimport { refs } from './refs';\n\nconst queryHandler = new QueryHandler();\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\n\nNotify.init({\n  timeout: 1500,\n  position: 'center-top',\n  backOverlay: false,\n  opacity: 0.8,\n  borderRadius: '25px',\n});\n\nexport async function handleSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { searchQuery },\n  } = evt.target;\n  const valueSearchQuery = searchQuery.value.trim().toLowerCase();\n  if (!valueSearchQuery) {\n    Notify.failure('Enter the name of the movie!');\n    return;\n  }\n\n  spinner.disable();\n  queryHandler.query = valueSearchQuery;\n  try {\n    const { results, total_results, page, total_pages } =\n      await queryHandler.fetchQueryResultsForMovieSearch();\n\n    if (!results.length) {\n      queryHandler.query = localStorageMethod.load(LAST_REQUEST);\n      return Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n    }\n\n    localStorageMethod.save(LAST_REQUEST, valueSearchQuery);\n    pagination.removeMarkup();\n    if (total_pages > 1) {\n      pagination.totalPages = total_pages;\n      pagination.page = page;\n      pagination.fetch = page =>\n        queryHandler.fetchQueryResultsForMovieSearch(page);\n\n      pagination.renderMarkup();\n    }\n    if (!results.length) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n      spinner.enable();\n      return;\n    }\n\n    Notify.success(`Hooray! We found ${total_results} movie!`);\n\n    localStorageMethod.remove(FILMS);\n    localStorageMethod.save(FILMS, results);\n\n    const markup = results.map(createCardMarkup).join('');\n    refs.filmListRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    spinner.enable();\n  }\n}\n","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.hero').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n      document.querySelector('.container-footer').classList.add('dark');\n      document.querySelector('.card__container').classList.add('dark');\n      document.querySelector('.modal-film ').classList.add('dark');\n      document.querySelector('.card-list').classList.add('dark');\n      document.querySelector('.pagination__list').classList.add('dark');\n    } else {\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.hero').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n      document.querySelector('.container-footer').classList.remove('dark');\n      document.querySelector('.card__container').classList.remove('dark');\n      document.querySelector('.modal-film ').classList.remove('dark');\n      document.querySelector('.card-list').classList.remove('dark');\n      document.querySelector('.pagination__list').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["parcelRequire","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","Spinner","param","selector","this","refs","getRefs","key","backdrop","document","querySelector","spinner","classList","add","remove","$bpxeT","$14a4640bacd2b36f$var$queryHandler","$8RVSI","QueryHandler","$14a4640bacd2b36f$var$spinner","$14a4640bacd2b36f$var$_handleSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","evt","_target","searchQuery","valueSearchQuery","ref","results","total_results","page1","total_pages","markup","preventDefault","target","elements","value","trim","toLowerCase","$h6c0i","Notify","failure","disable","query","fetchQueryResultsForMovieSearch","_ctx","sent","page","length","$h0Lhl","default","load","$d9uG3","LAST_REQUEST","save","$4Vhfo","pagination","removeMarkup","totalPages","fetch","renderMarkup","enable","success","concat","FILMS","map","$h0FqT","createCardMarkup","join","$4Nugj","filmListRef","innerHTML","console","log","t0","apply","arguments","$21c8cffa0398de98$var$addDarkClassToHTML","localStorage","getItem","err","init","timeout","position","backOverlay","opacity","borderRadius","addEventListener","event","removeItem","setItem","$FJC5b","saveGenres","then","renderMarkupTrending","catch","error"],"version":3,"file":"index.72d5389b.js.map"}