var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("OBL1B");class o{getRefs(e){const t={};return t.backdrop=document.querySelector(e),t.spinner=t.backdrop.querySelector(".spinner-grow"),t}enable(){this.refs.backdrop.classList.add("is-hidden")}disable(){this.refs.backdrop.classList.remove("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}var s=a("bhaiH"),c=a("a3vHV"),n=a("3iCpR"),d=a("iQIUW"),l=a("hPewW"),i=a("9SnYn"),u=(c=a("a3vHV"),i=a("9SnYn"),a("7g6iB")),m=a("krGWQ");const f=new(0,n.QueryHandler),y=new o({selector:'[data-action="load-spinner"]'});function S(){try{"dark"===localStorage.getItem("theme")?(document.querySelector("body").classList.add("dark"),document.querySelector(".hero").classList.add("dark"),document.querySelector(".themetoggle").classList.add("dark"),document.querySelector(".material-icons").classList.add("dark"),document.querySelector("header").classList.add("dark"),document.querySelector(".modal-dark").classList.add("dark"),document.querySelector(".day-nigth-btn-box").classList.add("dark"),document.querySelector(".container-footer").classList.add("dark"),document.querySelector(".card__container").classList.add("dark"),document.querySelector(".modal-film ").classList.add("dark"),document.querySelector(".card-list").classList.add("dark"),document.querySelector(".pagination__list").classList.add("dark")):(document.querySelector("body").classList.remove("dark"),document.querySelector(".hero").classList.remove("dark"),document.querySelector(".themetoggle").classList.remove("dark"),document.querySelector(".material-icons").classList.remove("dark"),document.querySelector("header").classList.remove("dark"),document.querySelector(".modal-dark").classList.remove("dark"),document.querySelector(".day-nigth-btn-box").classList.remove("dark"),document.querySelector(".container-footer").classList.remove("dark"),document.querySelector(".card__container").classList.remove("dark"),document.querySelector(".modal-film ").classList.remove("dark"),document.querySelector(".card-list").classList.remove("dark"),document.querySelector(".pagination__list").classList.remove("dark"))}catch(e){}}d.Notify.init({timeout:1500,position:"center-top",backOverlay:!1,opacity:.8,borderRadius:"25px"}),a("a3DhO"),a("fQE3M"),a("kDD30"),a("kDD30"),a("7bYU0"),document.querySelector(".themetoggle").addEventListener("click",(e=>{e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),S()})),S(),(0,s.saveGenres)(),(0,c.renderMarkupTrending)();document.querySelector("#search-form").addEventListener("submit",(async function(e){e.preventDefault();const{elements:{searchQuery:t}}=e.target,r=t.value.trim().toLowerCase();if(r){y.disable(),f.query=r;try{const{results:e,total_results:t,page:a,total_pages:o}=await f.fetchQueryResultsForMovieSearch();if(!e.length)return f.query=i.default.load(u.LAST_REQUEST),d.Notify.failure("Search result not successful. Enter the correct movie name.");if(i.default.save(u.LAST_REQUEST,r),c.pagination.removeMarkup(),o>1&&(c.pagination.totalPages=o,c.pagination.page=a,c.pagination.fetch=e=>f.fetchQueryResultsForMovieSearch(e),c.pagination.renderMarkup()),!e.length)return d.Notify.failure("Search result not successful. Enter the correct movie name."),void y.enable();d.Notify.success(`Hooray! We found ${t} movie!`),i.default.remove(u.FILMS),i.default.save(u.FILMS,e);const s=e.map(l.createCardMarkup).join("");m.refs.filmListRef.innerHTML=s}catch(e){console.log(e)}finally{y.enable()}}else d.Notify.failure("Enter the name of the movie!")}));new o({selector:'[data-action="load-spinner"]'}).enable();
//# sourceMappingURL=index.6cc6071e.js.map
