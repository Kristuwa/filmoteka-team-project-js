!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a("6J3A5");var n=a("8MBJY"),s=a("a2hTj"),c=function(){"use strict";function t(r){var o=r.selector;e(n)(this,t),this.refs=this.getRefs(o)}return e(s)(t,[{key:"getRefs",value:function(e){var t={};return t.backdrop=document.querySelector(e),t.spinner=t.backdrop.querySelector(".spinner-grow"),t}},{key:"enable",value:function(){this.refs.backdrop.classList.add("is-hidden")}},{key:"disable",value:function(){this.refs.backdrop.classList.remove("is-hidden")}}]),t}(),i=a("FJC5b"),u=a("4Vhfo"),l=a("bpxeT"),d=a("2TvXO"),f=a("8RVSI"),m=a("h6c0i"),p=a("h0FqT"),h=(u=a("4Vhfo"),a("h0Lhl")),v=a("d9uG3"),y=a("4Nugj"),g=new(0,f.QueryHandler),S=new c({selector:'[data-action="load-spinner"]'});function L(){return(L=e(l)(e(d).mark((function t(r){var o,a,n,s,c,i,l,f,L;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),o=r.target,a=o.elements.searchQuery,n=a.value.trim().toLowerCase()){e.next=6;break}return m.Notify.failure("Enter the name of the movie!"),e.abrupt("return");case 6:return S.disable(),g.query=n,e.prev=8,e.next=11,g.fetchQueryResultsForMovieSearch();case 11:if(s=e.sent,c=s.results,i=s.total_results,l=s.page,f=s.total_pages,c.length){e.next=19;break}return g.query=h.default.load(v.LAST_REQUEST),e.abrupt("return",m.Notify.failure("Search result not successful. Enter the correct movie name."));case 19:if(h.default.save(v.LAST_REQUEST,n),u.pagination.removeMarkup(),f>1&&(u.pagination.totalPages=f,u.pagination.page=l,u.pagination.fetch=function(e){return g.fetchQueryResultsForMovieSearch(e)},u.pagination.renderMarkup()),c.length){e.next=26;break}return m.Notify.failure("Search result not successful. Enter the correct movie name."),S.enable(),e.abrupt("return");case 26:m.Notify.success("Hooray! We found ".concat(i," movie!")),h.default.remove(v.FILMS),h.default.save(v.FILMS,c),L=c.map(p.createCardMarkup).join(""),y.refs.filmListRef.innerHTML=L,e.next=36;break;case 33:e.prev=33,e.t0=e.catch(8),console.log(e.t0);case 36:return e.prev=36,S.enable(),e.finish(36);case 39:case"end":return e.stop()}}),t,null,[[8,33,36,39]])})))).apply(this,arguments)}y.refs.searchForm.addEventListener("submit",(function(e){return L.apply(this,arguments)})),m.Notify.init({timeout:1500,position:"center-top",backOverlay:!1,opacity:.8,borderRadius:"25px"});l=a("bpxeT"),d=a("2TvXO"),y=a("4Nugj"),h=a("h0Lhl"),v=a("d9uG3");var k=new(0,(f=a("8RVSI")).QueryHandler),b=window.SpeechRecognition||window.webkitSpeechRecognition;if(b){console.log("Your Browser supports speech Recognition");var q=new b;q.continuous=!0,q.lang="en-US";var w=document.querySelector(".search-btn__mic"),_=w.firstElementChild;w.addEventListener("click",(function(){console.log("yes"),_.classList.contains("mic-stop")?q.start():q.stop()})),q.addEventListener("start",(function(){_.classList.remove("mic-stop"),_.classList.add("mic-rec"),y.refs.info.classList.add("search-form__info--hover"),y.refs.searchFormInput.focus(),console.log("Voice activated, SPEAK")})),q.addEventListener("end",(function(){_.classList.remove("mic-rec"),_.classList.add("mic-stop"),y.refs.info.classList.remove("search-form__info--hover"),y.refs.searchFormInput.focus(),console.log("Speech recognition service disconnected")})),q.addEventListener("result",(function(e){var t=y.refs.searchFormInput,r=e.resultIndex,o=e.results[r][0].transcript;"stop"===o.toLowerCase().trim()?q.stop():t.value?"search"===o.toLowerCase().trim()?(console.log("search"),function(){x.apply(this,arguments)}()):"reset"===o.toLowerCase().trim()?t.value="":t.value=o:t.value=o})),y.refs.info.textContent='Voice Commands: "stop", "reset", "search"'}else console.log("Your Browser does not support speech Recognition"),y.refs.info.textContent="Your Browser does not support Speech Recognition";function x(){return(x=e(l)(e(d).mark((function t(){var r,o,a,n,s,c,i;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.refs.searchFormInput.value.trim().toLowerCase(),k.query=r,e.prev=2,e.next=5,k.fetchQueryResultsForMovieSearch();case 5:if(o=e.sent,a=o.results,n=o.total_results,s=o.page,c=o.total_pages,a.length){e.next=13;break}return k.query=h.default.load(v.LAST_REQUEST),e.abrupt("return",Notify.failure("Search result not successful. Enter the correct movie name."));case 13:if(h.default.save(v.LAST_REQUEST,r),pagination.removeMarkup(),c>1&&(pagination.totalPages=c,pagination.page=s,pagination.fetch=function(e){return k.fetchQueryResultsForMovieSearch(e)},pagination.renderMarkup()),a.length){e.next=19;break}return Notify.failure("Search result not successful. Enter the correct movie name."),e.abrupt("return");case 19:Notify.success("Hooray! We found ".concat(n," movie!")),h.default.remove(v.FILMS),h.default.save(v.FILMS,a),i=a.map(createCardMarkup).join(""),y.refs.filmListRef.innerHTML=i,e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),console.log(e.t0);case 29:case"end":return e.stop()}}),t,null,[[2,26]])})))).apply(this,arguments)}function E(){try{"dark"===localStorage.getItem("theme")?(document.querySelector("body").classList.add("dark"),document.querySelector(".hero").classList.add("dark"),document.querySelector(".themetoggle").classList.add("dark"),document.querySelector(".material-icons").classList.add("dark"),document.querySelector("header").classList.add("dark"),document.querySelector(".modal-dark").classList.add("dark"),document.querySelector(".day-nigth-btn-box").classList.add("dark"),document.querySelector(".container-footer").classList.add("dark"),document.querySelector(".card__container").classList.add("dark"),document.querySelector(".modal-film ").classList.add("dark"),document.querySelector(".card-list").classList.add("dark"),document.querySelector(".pagination__list").classList.add("dark")):(document.querySelector("body").classList.remove("dark"),document.querySelector(".hero").classList.remove("dark"),document.querySelector(".themetoggle").classList.remove("dark"),document.querySelector(".material-icons").classList.remove("dark"),document.querySelector("header").classList.remove("dark"),document.querySelector(".modal-dark").classList.remove("dark"),document.querySelector(".day-nigth-btn-box").classList.remove("dark"),document.querySelector(".container-footer").classList.remove("dark"),document.querySelector(".card__container").classList.remove("dark"),document.querySelector(".modal-film ").classList.remove("dark"),document.querySelector(".card-list").classList.remove("dark"),document.querySelector(".pagination__list").classList.remove("dark"))}catch(e){}}a("2e8uc"),a("73ES2"),a("cbjz0"),a("cbjz0"),a("aZhHc"),document.querySelector(".themetoggle").addEventListener("click",(function(e){e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),E()})),E(),(0,i.saveGenres)().then((function(){return(0,u.renderMarkupTrending)()})).catch((function(e){return console.log(e)})),new c({selector:'[data-action="load-spinner"]'}).enable()}();
//# sourceMappingURL=index.0da29756.js.map
