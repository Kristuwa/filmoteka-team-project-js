var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequired7c6=o),o("OBL1B");class s{getRefs(e){const t={};return t.backdrop=document.querySelector(e),t.spinner=t.backdrop.querySelector(".spinner-grow"),t}enable(){this.refs.backdrop.classList.add("is-hidden")}disable(){this.refs.backdrop.classList.remove("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}var a=o("bhaiH"),n=o("a3vHV"),c=o("3iCpR"),i=o("iQIUW"),l=o("hPewW"),d=(n=o("a3vHV"),o("9SnYn")),u=o("7g6iB"),m=o("krGWQ");const f=new(0,c.QueryHandler),p=new s({selector:'[data-action="load-spinner"]'});m.refs.searchForm.addEventListener("submit",(async function(e){e.preventDefault();const{elements:{searchQuery:t}}=e.target,r=t.value.trim().toLowerCase();if(!r)return void i.Notify.failure("Enter the name of the movie!");p.disable(),f.query=r;try{const{results:e,total_results:t,page:o,total_pages:s}=await f.fetchQueryResultsForMovieSearch();if(!e.length)return f.query=d.default.load(u.LAST_REQUEST),i.Notify.failure("Search result not successful. Enter the correct movie name.");if(d.default.save(u.LAST_REQUEST,r),n.pagination.removeMarkup(),s>1&&(n.pagination.totalPages=s,n.pagination.page=o,n.pagination.fetch=e=>f.fetchQueryResultsForMovieSearch(e),n.pagination.renderMarkup()),!e.length)return i.Notify.failure("Search result not successful. Enter the correct movie name."),void p.enable();i.Notify.success(`Hooray! We found ${t} movie!`),d.default.remove(u.FILMS),d.default.save(u.FILMS,e);const a=e.map(l.createCardMarkup).join("");m.refs.filmListRef.innerHTML=a}catch(e){console.log(e)}finally{p.enable()}})),i.Notify.init({timeout:1500,position:"center-top",backOverlay:!1,opacity:.8,borderRadius:"25px"});m=o("krGWQ"),d=o("9SnYn"),u=o("7g6iB");const h=new(0,(c=o("3iCpR")).QueryHandler),g=window.SpeechRecognition||window.webkitSpeechRecognition;if(g){console.log("Your Browser supports speech Recognition");const e=new g;e.continuous=!0,e.lang="en-US";const t=document.querySelector(".search-btn__mic"),r=t.firstElementChild;t.addEventListener("click",(function(){console.log("yes"),r.classList.contains("mic-stop")?e.start():e.stop()})),e.addEventListener("start",(function(){r.classList.remove("mic-stop"),r.classList.add("mic-rec"),m.refs.info.classList.add("search-form__info--hover"),m.refs.searchFormInput.focus(),console.log("Voice activated, SPEAK")})),e.addEventListener("end",(function(){r.classList.remove("mic-rec"),r.classList.add("mic-stop"),m.refs.info.classList.remove("search-form__info--hover"),m.refs.searchFormInput.focus(),console.log("Speech recognition service disconnected")})),e.addEventListener("result",(function(t){const{searchFormInput:r}=m.refs,o=t.resultIndex,s=t.results[o][0].transcript;"stop"===s.toLowerCase().trim()?e.stop():r.value?"search"===s.toLowerCase().trim()?(console.log("search"),async function(){const e=m.refs.searchFormInput.value.trim().toLowerCase();h.query=e;try{const{results:t,total_results:r,page:o,total_pages:s}=await h.fetchQueryResultsForMovieSearch();if(!t.length)return h.query=d.default.load(u.LAST_REQUEST),Notify.failure("Search result not successful. Enter the correct movie name.");if(d.default.save(u.LAST_REQUEST,e),pagination.removeMarkup(),s>1&&(pagination.totalPages=s,pagination.page=o,pagination.fetch=e=>h.fetchQueryResultsForMovieSearch(e),pagination.renderMarkup()),!t.length)return void Notify.failure("Search result not successful. Enter the correct movie name.");Notify.success(`Hooray! We found ${r} movie!`),d.default.remove(u.FILMS),d.default.save(u.FILMS,t);const a=t.map(createCardMarkup).join("");m.refs.filmListRef.innerHTML=a}catch(e){console.log(e)}}()):"reset"===s.toLowerCase().trim()?r.value="":r.value=s:r.value=s})),m.refs.info.textContent='Voice Commands: "stop", "reset", "search"'}else console.log("Your Browser does not support speech Recognition"),m.refs.info.textContent="Your Browser does not support Speech Recognition";function v(){try{"dark"===localStorage.getItem("theme")?(document.querySelector("body").classList.add("dark"),document.querySelector(".hero").classList.add("dark"),document.querySelector(".themetoggle").classList.add("dark"),document.querySelector(".material-icons").classList.add("dark"),document.querySelector("header").classList.add("dark"),document.querySelector(".modal-dark").classList.add("dark"),document.querySelector(".day-nigth-btn-box").classList.add("dark"),document.querySelector(".container-footer").classList.add("dark"),document.querySelector(".card__container").classList.add("dark"),document.querySelector(".modal-film ").classList.add("dark"),document.querySelector(".card-list").classList.add("dark"),document.querySelector(".pagination__list").classList.add("dark")):(document.querySelector("body").classList.remove("dark"),document.querySelector(".hero").classList.remove("dark"),document.querySelector(".themetoggle").classList.remove("dark"),document.querySelector(".material-icons").classList.remove("dark"),document.querySelector("header").classList.remove("dark"),document.querySelector(".modal-dark").classList.remove("dark"),document.querySelector(".day-nigth-btn-box").classList.remove("dark"),document.querySelector(".container-footer").classList.remove("dark"),document.querySelector(".card__container").classList.remove("dark"),document.querySelector(".modal-film ").classList.remove("dark"),document.querySelector(".card-list").classList.remove("dark"),document.querySelector(".pagination__list").classList.remove("dark"))}catch(e){}}o("a3DhO"),o("fQE3M"),o("kDD30"),o("kDD30"),o("7bYU0"),document.querySelector(".themetoggle").addEventListener("click",(e=>{e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),v()})),v(),(0,a.saveGenres)().then((()=>(0,n.renderMarkupTrending)())).catch((e=>console.log(e)));new s({selector:'[data-action="load-spinner"]'}).enable();
//# sourceMappingURL=index.6aaca32c.js.map
