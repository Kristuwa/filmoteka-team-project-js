{"mappings":"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","sources":["src/js/page-library.js","src/js/active_button.js","src/js/library_lists.js","src/js/card-markup-library.js","src/js/userAuth/firebase-library.js","src/js/day-night-library.js"],"sourcesContent":["import './userAuth/firebase-auth-import';\nimport './active_button';\nimport { saveGenres } from './genres_storage';\nimport './add_to_list';\nimport './library_lists';\nimport './modal-film';\nimport { toggleModal, toggleCard } from './modal-team.js';\nimport './userAuth/firebase-library';\nsaveGenres();\nimport { onWachedLibBtnClick } from './library_lists';\nimport { refs } from './refs';\nimport { onChangePageClick } from './render_trending';\nimport { onPlayVideo } from './play_trailer_btn';\nimport { openModalTrailer, closeModalTrailer } from './play_trailer_btn';\nimport './day-night-library';\n\nrefs.pagination.removeEventListener('click', onChangePageClick);\nonWachedLibBtnClick();\n","// ✅ Заміна класів is-active\nimport { refs } from './refs';\n\nrefs.libraryListButtons.addEventListener('click', onButtonClick);\n\nexport function onButtonClick(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  //   console.log(event.target);\n  const currentActiveBtn = refs.libraryListButtons.querySelector('.is-active');\n  //   console.log(currentActiveBtn);\n  if (currentActiveBtn) {\n    currentActiveBtn.classList.remove('is-active');\n    //  console.log('remove class is-active');\n  }\n  // додає клас на кнопку на яку клікнули\n  event.target.classList.add('is-active');\n  // console.log('add class is-active');\n}\n","import { WATCHED_KEY, QUEUE_KEY, FILMS } from './localStorageKeys';\nimport storage from './locale-storage-methods';\nimport { ref } from 'firebase/database';\nimport { createCardMarkupLibrary } from './card-markup-library';\nimport { refs } from './refs';\nimport { Pagination } from './pagination';\n\nconst paginationLibrary = new Pagination();\n\nrefs.watchedBtn.addEventListener('click', event => onWachedLibBtnClick(event));\nrefs.queueBtn.addEventListener('click', event => onQueueLibBtnClick(event));\nrefs.pagination.addEventListener('click', onChangePageInLibraryClick);\n\nexport function onWachedLibBtnClick(event) {\n  refs.modalFilmBtnClose.removeEventListener('click', onRenderNewListQueue);\n  refs.modalBackdrop.removeEventListener(\n    'click',\n    onBackdropClickRerenderingQueue\n  );\n  document.removeEventListener('keydown', onEscBtnPressRerenderingQueue);\n\n  refs.modalFilmBtnClose.addEventListener('click', onRenderNewListWatched);\n  refs.modalBackdrop.addEventListener(\n    'click',\n    onBackdropClickRerenderingWatched\n  );\n  document.addEventListener('keydown', onEscBtnPressRerenderingWatched);\n\n  const storageData = storage.load(WATCHED_KEY);\n\n  if (storageData) {\n    paginationLibrary.lastQuery = WATCHED_KEY;\n    addPagination(storageData);\n    renderMarkupFilmsByLibrary(storageData);\n  } else {\n    console.log('wached storage is empty');\n  }\n}\n\nexport function onQueueLibBtnClick(event) {\n  refs.modalFilmBtnClose.removeEventListener('click', onRenderNewListWatched);\n  refs.modalBackdrop.removeEventListener(\n    'click',\n    onBackdropClickRerenderingWatched\n  );\n  document.removeEventListener('keydown', onEscBtnPressRerenderingWatched);\n\n  refs.modalFilmBtnClose.addEventListener('click', onRenderNewListQueue);\n  refs.modalBackdrop.addEventListener('click', onBackdropClickRerenderingQueue);\n  document.addEventListener('keydown', onEscBtnPressRerenderingQueue);\n\n  //   let storageArray = [];\n  const storageData = storage.load(QUEUE_KEY);\n\n  // якщо в localstorage є дані, то записуємо їх в масив\n  if (storageData) {\n    paginationLibrary.lastQuery = QUEUE_KEY;\n    addPagination(storageData);\n    renderMarkupFilmsByLibrary(storageData);\n  } else {\n    console.log('wached storage is empty');\n  }\n}\n\nexport function onRenderNewListQueue() {\n  const storageData = storage.load(QUEUE_KEY);\n  paginationLibrary.calculateTotalPages(storageData.length);\n  if (paginationLibrary.page > paginationLibrary.totalPages) {\n    paginationLibrary.decrementPage();\n  }\n\n  renderMarkupFilmsByLibrary(storageData);\n  paginationLibrary.renderMarkup();\n}\n\nexport function onRenderNewListWatched() {\n  const storageData = storage.load(WATCHED_KEY);\n  paginationLibrary.calculateTotalPages(storageData.length);\n  if (paginationLibrary.page > paginationLibrary.totalPages) {\n    paginationLibrary.decrementPage();\n  }\n\n  renderMarkupFilmsByLibrary(storageData);\n  paginationLibrary.renderMarkup();\n}\n\nfunction addPagination(data) {\n  paginationLibrary.resetPage();\n  paginationLibrary.calculateFilmsOnPage();\n  paginationLibrary.calculateTotalPages(data.length);\n  paginationLibrary.renderMarkup();\n}\n\nfunction renderMarkupFilmsByLibrary(data) {\n  refs.filmListRef.innerHTML = '';\n\n  let start = (paginationLibrary.page - 1) * paginationLibrary.filmsOnPage;\n  let end = start + paginationLibrary.filmsOnPage;\n  const storageArray = data.slice(start, end);\n\n  storage.remove(FILMS);\n  storage.save(FILMS, storageArray);\n\n  refs.filmListRef.innerHTML = storageArray\n    .map(createCardMarkupLibrary)\n    .join('');\n  paginationLibrary.renderMarkup();\n}\n\nexport function onChangePageInLibraryClick(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  if (e.target.className === 'btn__next') {\n    paginationLibrary.incrementPage();\n  }\n  if (e.target.className === 'btn__prev') {\n    paginationLibrary.decrementPage();\n  }\n  if (e.target.className === 'dots') {\n    return;\n  }\n  if (e.target.className === 'num') {\n    paginationLibrary.page = Number(e.target.textContent);\n  }\n  const storageData = storage.load(paginationLibrary.lastQuery);\n  renderMarkupFilmsByLibrary(storageData);\n}\n\nfunction onEscBtnPressRerenderingWatched(e) {\n  if (e.code === 'Escape') {\n    onRenderNewListWatched();\n  }\n}\n\nfunction onBackdropClickRerenderingWatched(e) {\n  if (e.target === refs.modalBackdrop) {\n    onRenderNewListWatched();\n  }\n}\n\nfunction onEscBtnPressRerenderingQueue(e) {\n  if (e.code === 'Escape') {\n    onRenderNewListQueue();\n  }\n}\n\nfunction onBackdropClickRerenderingQueue(e) {\n  if (e.target === refs.modalBackdrop) {\n    onRenderNewListQueue();\n  }\n}\n","import { createStringOfGenresForCard } from './genres_storage';\n\nexport function createCardMarkupLibrary(data) {\n  const { title, poster_path, release_date, genre_ids, id, vote_average } =\n    data;\n  const rating = vote_average.toFixed(1);\n  let date = release_date;\n\n  if (!date) {\n    date = 'No information';\n  } else {\n    date = release_date.slice(0, 4);\n  }\n\n  let imageUrl = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n  if (poster_path === null) {\n    imageUrl =\n      'https://www.bworldonline.com/wp-content/uploads/2022/04/cinema02_14-01.jpg';\n  }\n\n  let cardGenres;\n  if (genre_ids.length === 0) {\n    cardGenres = 'No information';\n  } else {\n    cardGenres = createStringOfGenresForCard(genre_ids);\n  }\n\n  return `\n    <li class=\"card__container\" data-id=\"${id}\">\n    <a class=\"link card-film-link\" href=\"#\" aria-label=\"${title}\">\n    <img class=\"card__poster\" alt='poster' data-id=\"${id}\" src=\"${imageUrl}\" height=\"574\"  width=\"395\"/>\n    <div class=\"description-wrapper\">\n    <b class=\"card__film-name\">${title}</b>\n    <p class=\"card__description\">${cardGenres}<span class=\"film-year\">${date}</span><span class=\"card__description-rating\">${rating}</span>\n    </p>\n    </div>\n    </a>\n    </li>`;\n}\n","import { initializeApp } from 'firebase/app';\nimport { getAnalytics } from 'firebase/analytics';\nimport { firebaseConfig } from './firebase-config';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { refs } from './firebase-refs';\nimport User from './firebase-user';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\nonAuthStateChanged(auth, user => {\n  if (!user) {\n    refs.userLibrary.addEventListener(\n      'click',\n      Notify.failure('Sorry, Your are not allowed to perform this action.')\n    );\n  } else {\n    refs.heroLibrary.classList.remove('hidden-tab');\n  }\n});\n","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.hero').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n      document.querySelector('.container-footer').classList.add('dark');\n      document.querySelector('.card__container').classList.add('dark');\n      document.querySelector('.modal-film ').classList.add('dark');\n      document.querySelector('.card-list').classList.add('dark');\n      document.querySelector('.pagination__list').classList.add('dark');\n    } else {\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.hero').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n      document.querySelector('.container-footer').classList.remove('dark');\n      document.querySelector('.card__container').classList.remove('dark');\n      document.querySelector('.modal-film ').classList.remove('dark');\n      document.querySelector('.card-list').classList.remove('dark');\n      document.querySelector('.pagination__list').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["parcelRequire","$4Nugj","refs","libraryListButtons","addEventListener","event","target","nodeName","currentActiveBtn","querySelector","classList","remove","add","$d9uG3","$FJC5b","$cbad1140b07c02c6$export$8330de5412fc78b0","data","title","poster_path","release_date","genre_ids","id","rating","vote_average","toFixed","date","slice","cardGenres","imageUrl","concat","length","createStringOfGenresForCard","$4df99937755264bf$var$paginationLibrary","Pagination","$4df99937755264bf$export$1b9aae424ee7a08","modalFilmBtnClose","removeEventListener","$4df99937755264bf$export$72813655355945e3","modalBackdrop","$4df99937755264bf$var$onBackdropClickRerenderingQueue","document","$4df99937755264bf$var$onEscBtnPressRerenderingQueue","$4df99937755264bf$export$d05c8449c2b14d63","$4df99937755264bf$var$onBackdropClickRerenderingWatched","$4df99937755264bf$var$onEscBtnPressRerenderingWatched","storageData","$h0Lhl","default","load","WATCHED_KEY","lastQuery","$4df99937755264bf$var$addPagination","$4df99937755264bf$var$renderMarkupFilmsByLibrary","console","log","QUEUE_KEY","calculateTotalPages","page","totalPages","decrementPage","renderMarkup","resetPage","calculateFilmsOnPage","filmListRef","innerHTML","start","filmsOnPage","end","storageArray","FILMS","save","map","join","e","code","watchedBtn","queueBtn","$4df99937755264bf$export$17fb910c3a11c19f","pagination","className","incrementPage","Number","textContent","$6Urw1","$8db2ea7d555dead6$var$app","initializeApp","$8TyPJ","firebaseConfig","$8db2ea7d555dead6$var$auth","$3SEMc","getAuth","onAuthStateChanged","user","$jhf9f","heroLibrary","userLibrary","$h6c0i","Notify","failure","$a0549cb8497cdeaa$var$addDarkClassToHTML","localStorage","getItem","err","preventDefault","removeItem","setItem","saveGenres","$4Vhfo","onChangePageClick"],"version":3,"file":"page_library.885de9ee.js.map"}