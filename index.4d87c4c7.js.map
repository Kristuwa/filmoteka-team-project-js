{"mappings":"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","sources":["src/js/index.js","src/js/spinner.js","<<jsx-config-pragma.js>>","src/js/search_by_keywords.js","src/js/voiceSearch.js","src/js/day-night.js","src/js/filter.js"],"sourcesContent":["import './userAuth/firebase-auth-import';\nimport Spinner from './spinner';\nimport { saveGenres } from './genres_storage';\nimport { renderMarkupTrending } from './render_trending.js';\nimport './search_by_keywords';\nimport './voiceSearch'\nimport './add_to_list';\nimport './modal-film';\n\nimport { onPlayVideo } from './play_trailer_btn';\nimport { openModalTrailer, closeModalTrailer } from './play_trailer_btn';\nimport { toggleModal, toggleCard } from './modal-team.js';\nsaveGenres()\n  .then(() => renderMarkupTrending())\n  .catch(error => console.log(error));\n// renderMarkupTrending();\nimport './day-night';\n\n// Экземпляр класса Spinner имеет 2 метода:\n// 1. spinner.enable() - выключает спинер\n// 2. spinner.disable() - включает спинер\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\nspinner.enable(); // сейчас спинер выключен\n// Filter\nimport './filter'","export default class Spinner {\n  constructor({ selector }) {\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.backdrop = document.querySelector(selector);\n    refs.spinner = refs.backdrop.querySelector('.spinner-grow');\n    return refs;\n  }\n\n  enable() {\n    this.refs.backdrop.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.backdrop.classList.remove('is-hidden');\n  }\n}\n",null,"import { QueryHandler } from './query_handler';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { createCardMarkup } from './card_markup';\nimport Spinner from './spinner';\nimport { pagination } from './render_trending';\nimport localStorageMethod from './locale-storage-methods';\nimport { FILMS, LAST_REQUEST } from './localStorageKeys';\nimport { refs } from './refs';\n\nconst queryHandler = new QueryHandler();\nconst spinner = new Spinner({\n  selector: '[data-action=\"load-spinner\"]',\n});\n\nrefs.searchForm.addEventListener('submit', handleSubmit);\n\nNotify.init({\n  timeout: 1500,\n  position: 'center-top',\n  backOverlay: false,\n  opacity: 0.8,\n  borderRadius: '25px',\n});\n\nexport async function handleSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { searchQuery },\n  } = evt.target;\n  const valueSearchQuery = searchQuery.value.trim().toLowerCase();\n  if (!valueSearchQuery) {\n    Notify.failure('Enter the name of the movie!');\n    return;\n  }\n\n  spinner.disable();\n  queryHandler.query = valueSearchQuery;\n  try {\n    const { results, total_results, page, total_pages } =\n      await queryHandler.fetchQueryResultsForMovieSearch();\n\n    if (!results.length) {\n      queryHandler.query = localStorageMethod.load(LAST_REQUEST);\n      return Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n    }\n\n    localStorageMethod.save(LAST_REQUEST, valueSearchQuery);\n    pagination.removeMarkup();\n    if (total_pages > 1) {\n      pagination.totalPages = total_pages;\n      pagination.page = page;\n      pagination.fetch = page =>\n        queryHandler.fetchQueryResultsForMovieSearch(page);\n\n      pagination.renderMarkup();\n    }\n    if (!results.length) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n      spinner.enable();\n      return;\n    }\n\n    Notify.success(`Hooray! We found ${total_results} movie!`);\n\n    localStorageMethod.remove(FILMS);\n    localStorageMethod.save(FILMS, results);\n\n    const markup = results.map(createCardMarkup).join('');\n    refs.filmListRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    spinner.enable();\n  }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { refs } from \"./refs\";\nimport { createCardMarkup } from './card_markup';\nimport localStorageMethod from './locale-storage-methods';\nimport { FILMS, LAST_REQUEST } from './localStorageKeys';\nimport { QueryHandler } from './query_handler';\nimport {pagination} from './render_trending'\nconst queryHandlerVoice = new QueryHandler();\n\n// The speech recognition interface lives on the browser’s window object\nconst SpeechRecognition =\n  window.SpeechRecognition || window.webkitSpeechRecognition; // if none exists -> undefined\nif (SpeechRecognition) {\n  console.log('Your Browser supports speech Recognition');\n\n  const recognition = new SpeechRecognition();\n\n  recognition.continuous = true;\n  recognition.lang = 'en-US';\n\n  const micBtn = document.querySelector('.search-btn__mic');\n  const micIcon = micBtn.firstElementChild;\n\n  micBtn.addEventListener('click', micBtnClick);\n  function micBtnClick() {\n    console.log('yes');\n    if (micIcon.classList.contains('mic-stop')) {\n      // Start Voice Recognition\n      recognition.start(); // First time you have to allow access to mic!\n    } else {\n      recognition.stop();\n    }\n  }\n\n  recognition.addEventListener('start', startSpeechRecognition); // <=> recognition.onstart = function() {...}\n  function startSpeechRecognition() {\n    micIcon.classList.remove('mic-stop');\n    micIcon.classList.add('mic-rec');\n    refs.info.classList.add('search-form__info--hover');\n    refs.searchFormInput.focus();\n    console.log('Voice activated, SPEAK');\n  }\n\n  recognition.addEventListener('end', endSpeechRecognition); // <=> recognition.onend = function() {...}\n  function endSpeechRecognition() {\n    micIcon.classList.remove('mic-rec');\n    micIcon.classList.add('mic-stop');\n    refs.info.classList.remove('search-form__info--hover');\n    refs.searchFormInput.focus();\n    console.log('Speech recognition service disconnected');\n  }\n\n  recognition.addEventListener('result', resultOfSpeechRecognition); // <=> recognition.onresult = function(event) {...} - Fires when you stop talking\n  function resultOfSpeechRecognition(e) {\n    const { searchFormInput } = refs;\n\n    const current = e.resultIndex;\n    const transcript = e.results[current][0].transcript;\n\n    \n     if (!searchFormInput.value) {\n      searchFormInput.value = transcript;\n    } else {\n      if (transcript.toLowerCase().trim() === 'search') {\n        onSearch();\n        recognition.stop();\n      } else if (transcript.toLowerCase().trim() === 'reset') {\n        searchFormInput.value = '';\n      } else {\n        searchFormInput.value = transcript;\n      }\n    }\n  }\n  refs.info.textContent = 'Voice Commands: \"reset\", \"search\"';\n} else {\n  console.log('Your Browser does not support speech Recognition');\n  refs.info.textContent = 'Your Browser does not support Speech Recognition';\n}\n\n\nasync function onSearch() {\n  const valueSearchQuery = refs.searchFormInput.value.trim().toLowerCase();\n\n  queryHandlerVoice.query = valueSearchQuery;\n\n  try {\n    const { results, total_results, page, total_pages } =\n      await queryHandlerVoice.fetchQueryResultsForMovieSearch();\n\n    if (!results.length) {\n      queryHandlerVoice.query = localStorageMethod.load(LAST_REQUEST);\n      return Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n    }\n\n    localStorageMethod.save(LAST_REQUEST, valueSearchQuery);\n    pagination.removeMarkup();\n    if (total_pages > 1) {\n      pagination.totalPages = total_pages;\n      pagination.page = page;\n      pagination.fetch = page =>\n        queryHandlerVoice.fetchQueryResultsForMovieSearch(page);\n\n      pagination.renderMarkup();\n    }\n    if (!results.length) {\n      Notify.failure(\n        'Search result not successful. Enter the correct movie name.'\n      );\n      return;\n    }\n\n    Notify.success(`Hooray! We found ${total_results} movie!`);\n\n    localStorageMethod.remove(FILMS);\n    localStorageMethod.save(FILMS, results);\n\n    const markup = results.map(createCardMarkup).join('');\n    refs.filmListRef.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.hero').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n      document.querySelector('.container-footer').classList.add('dark');\n      document.querySelector('.card__container').classList.add('dark');\n      document.querySelector('.modal-film ').classList.add('dark');\n      document.querySelector('.card-list').classList.add('dark');\n      document.querySelector('.pagination__list').classList.add('dark');\n    } else {\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.hero').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n      document.querySelector('.container-footer').classList.remove('dark');\n      document.querySelector('.card__container').classList.remove('dark');\n      document.querySelector('.modal-film ').classList.remove('dark');\n      document.querySelector('.card-list').classList.remove('dark');\n      document.querySelector('.pagination__list').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n","import axios from 'axios';\nimport { MOVIEDB_KEY } from './query_handler';\nimport storage from './locale-storage-methods';\nimport {FILMS} from './localStorageKeys';\nimport { createCardMarkup } from './card_markup';\nimport { refs } from './refs';\nimport { filterItem } from './refs';\nimport { renderMarkupTrending, pagination, onChangePageClick} from './render_trending'\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport './modal-film';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/'\n\n// Слухачі подій\n\nfilterItem.genreForm.addEventListener('input', eventGenre);\nfilterItem.yearForm.addEventListener('input', eventYear);\nfilterItem.resetButton.addEventListener('click', onResetSearch);\n\nrefs.pagination.removeEventListener('click', onChangePageClick);\nrefs.pagination.addEventListener('click', onChangePageOfFilterClick);\n\n// Змінні для запиту на бекенд\nlet formSearch = {\n  year: '',\n  genre: '',\n  query: '',\n  discover: `trending`,\n  page: '',\n};\n\n\n//Пошук рендер фильму по жанру __________________________\nasync function eventGenre(evt) {\n  evt.preventDefault();\n  console.log(evt);\n  if (evt.target.value !== formSearch.genre || !formSearch.genre) {\n    pagination.resetPage();\n  }\n\n  if (evt) {\n    formSearch.genre = evt.target.value;\n    // console.log('genre id:', evt.target.value);\n    // formSearch.page = 1;\n\n\n    await getSearchForm(formSearch.genre, formSearch.year, pagination.page)\n      .then(data => {\n\n\n        if (data.results.length !== 0) {\n          refs.filmListRef.innerHTML = '';\n          // console.log('видаляємо фільми зі сторінки');\n          const markup = data.results.map(createCardMarkup).join('');\n          refs.filmListRef.innerHTML = markup;\n          // console.log('create markup');\n          \n        } else {\n         \n          Notify.failure(`Nothing was found for your request`);\n \n        }\n      })\n      .catch(error => console.log(error))\n\n  }\n}\n\n\n// Пошук і рендер фільмів по роках __________________________\nasync function eventYear(evt) {\n  evt.preventDefault();\n  if (evt.target.value !== formSearch.year || !formSearch.year) {\n    pagination.resetPage();\n  }\n  // якщо евент не пустий, то беремо значення з форми\n  if (evt) {\n    formSearch.year = Number(evt.target.value);\n    // formSearch.page = 1;\n\n    await getSearchForm(formSearch.genre, formSearch.year, pagination.page)\n      .then(data => {\n\n        if (data.results.length !== 0) {\n          refs.filmListRef.innerHTML = '';\n          // console.log('видаляємо фільми зі сторінки');\n          const markup = data.results.map(createCardMarkup).join('');\n          refs.filmListRef.innerHTML = markup;\n          // console.log('create markup');\n        } else {\n\n          Notify.failure(`Nothing was found for your request`);\n        };\n      }).catch(error => console.log(error))\n  };\n};\n\n\n// Запит на бекенд по жанру або року __________________________\nexport async function getSearchForm(\n  genre = '',\n  year = '',\n  pageNumber = '',\n  query = ''\n) {\n\n  // якщо значення фільтра не дорівнює Start або рік не дорінвює ''\n  // то в запит підставляємо рік вибраний у формі\n  formSearch.year =\n    filterItem.yearForm.value !== 'start' || year !== ''\n      ? `&primary_release_year=${filterItem.yearForm.value}`\n      : '';\n  \n// ✅ якщо значення фільтра не дорівнює '' та не дорівнює start\n// то в запит підставляємо значення вибране у формі\n  formSearch.genre =\n    genre !== '' && filterItem.genreForm.value !== 'start'\n      ? `&with_genres=${filterItem.genreForm.value}`\n      : '';\n  // console.log(formSearch.genre);\n  \n  formSearch.query = `&query=${query}`;\n  // console.log(query);\n  // formSearch.page = page !== 0 || page !== '' ? `&page=${page}` : '';\n\n  if (query === '') {\n    formSearch.queryFetch = '';\n    // console.log(formSearch);\n  }\n  if (query !== '' && genre === '') {\n    formSearch.discover = 'search';\n  }\n  if (query === '' && genre !== '') {\n    formSearch.discover = 'discover';\n  }\n  if (query === '' && year !== '') {\n    formSearch.discover = 'discover';\n  }\n  const url = `${BASE_URL}${formSearch.discover}/movie?api_key=${MOVIEDB_KEY}&sort_by=popularity.desc${formSearch.genre}${formSearch.year}&include_adult=false&page=${pageNumber}`\n   // Перевірка рядка запиту\n  // console.log(url);\n\n  // Запит\n  const fetchCard = await axios.get(url);\n  const { total_pages, page, results } = fetchCard.data;\n  // Записуємо результат запиту у localstorage\n  // storage.save('resultFilterItems', fetchCard.data.results)\n  storage.save('films', results)\n//  Записуємо загальну кількість результатів\n  storage.save('totalItems', total_pages);\n// Записуємо кількість за один запит\n  storage.save('itemsPerPage', results.length);\n\n  // Пагінація\n  if (total_pages > 1) {\n        pagination.totalPages = total_pages;\n        pagination.page = page;\n        pagination.fetch = page =>\n          getSearchForm(formSearch.genre, formSearch.year, page);\n        pagination.renderMarkup();\n  }\n  \n  return fetchCard.data;\n}\n\n\n//Створення і рендер розмітки в select YEAR ___________________\nfunction createSelectOptions() {\n  let arrayYear = [];\n  const date = new Date();\n\n  for (let i = date.getFullYear(); i >= 1950; i -= 1) {\n    arrayYear.push(\n      `<option class = 'filter__form-years' value=\"${i}\">${i}</option>`\n    );\n  }\n  const elements = arrayYear.join('');\n  filterItem.yearForm.insertAdjacentHTML('beforeend', elements);\n};\n\n\n// Скидання фільтру по кнопці reset\nfunction onResetSearch(evt) {\n  evt.preventDefault();\n  pagination.resetPage();\n  filterItem.genreForm.options.selectedIndex = 0;\n  filterItem.yearForm.options.selectedIndex = 0;\n  formSearch.genre = '';\n  formSearch.year = '';\n  formSearch.page = 1;\n  refs.filmListRef.innerHTML = '';\n  renderMarkupTrending()\n}\ncreateSelectOptions();\n\n// Пагінація _________________________________________\n\n\nexport function onChangePageOfFilterClick(e) {\n  if (e.target.nodeName === 'UL') {\n    return;\n  }\n  if (e.target.className === 'btn__next') {\n    pagination.incrementPage();\n  }\n  if (e.target.className === 'btn__prev') {\n    pagination.decrementPage();\n  }\n  if (e.target.className === 'dots') {\n    return;\n  }\n  if (e.target.className === 'num') {\n    pagination.page = Number(e.target.textContent);\n  }\n  \n  \n  pagination\n    .fetch(pagination.page)\n    .then(({ results }) => {\n      console.log(results);\n      console.log(pagination.fetch);\n      const markup = results.map(createCardMarkup).join('');\n      storage.save(FILMS, results);\n      refs.filmListRef.innerHTML = markup;\n    })\n    .catch(error => console.log(error));\n\n  pagination.renderMarkup();\n}\n"],"names":["parcelRequire","$8MBJY","$dd8ebecfaae47a78$export$2e2bcd8739ae039","Spinner","param","selector","this","refs","getRefs","key","backdrop","document","querySelector","spinner","classList","add","remove","$bpxeT","$14a4640bacd2b36f$var$queryHandler","$8RVSI","QueryHandler","$14a4640bacd2b36f$var$spinner","$14a4640bacd2b36f$var$_handleSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","evt","_target","searchQuery","valueSearchQuery","ref","results","total_results","page1","total_pages","markup","preventDefault","target","elements","value","trim","toLowerCase","$h6c0i","Notify","failure","disable","query","fetchQueryResultsForMovieSearch","_ctx","sent","page","length","$h0Lhl","default","load","$d9uG3","LAST_REQUEST","save","$4Vhfo","pagination","removeMarkup","totalPages","fetch","renderMarkup","enable","success","concat","FILMS","map","$h0FqT","createCardMarkup","join","$4Nugj","filmListRef","innerHTML","console","log","t0","apply","arguments","searchForm","addEventListener","init","timeout","position","backOverlay","opacity","borderRadius","$310aaa974d7c84f9$var$queryHandlerVoice","$310aaa974d7c84f9$var$SpeechRecognition","window","SpeechRecognition","webkitSpeechRecognition","$310aaa974d7c84f9$var$recognition","continuous","lang","$310aaa974d7c84f9$var$micBtn","$310aaa974d7c84f9$var$micIcon","firstElementChild","contains","start","stop","info","searchFormInput","focus","e","current","resultIndex","transcript","$310aaa974d7c84f9$var$_onSearch","$310aaa974d7c84f9$var$onSearch","textContent","$21c8cffa0398de98$var$addDarkClassToHTML","localStorage","getItem","err","event","removeItem","setItem","$6142fea1849c7fbd$var$BASE_URL","filterItem","genreForm","$6142fea1849c7fbd$var$_eventGenre","yearForm","$6142fea1849c7fbd$var$_eventYear","resetButton","resetPage","options","selectedIndex","$6142fea1849c7fbd$var$formSearch","genre","year","renderMarkupTrending","removeEventListener","onChangePageClick","nodeName","className","incrementPage","decrementPage","Number","then","catch","error","discover","$6142fea1849c7fbd$export$2e257b03c00505f4","data","$6142fea1849c7fbd$var$_getSearchForm","pageNumber","url","fetchCard","_data","_args","queryFetch","MOVIEDB_KEY","$dIxxU","get","arrayYear","i","Date","getFullYear","push","insertAdjacentHTML","$6142fea1849c7fbd$var$createSelectOptions","$FJC5b","saveGenres"],"version":3,"file":"index.4d87c4c7.js.map"}